'use strict';var SubscribeHandler={createIt:function(options){var handler={_inititalize:function(){var self=this;},_validate_subscriber:function(){var self=this;var bCheck=true;if($('#email-subscriber').val()<=0){$('.email-subscriber-group').addClass('has-error');$('.email-subscriber-msg').html('Email is required');bCheck=false;}var emailReg=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);var valid=emailReg.test($('#email-subscriber').val());if(!valid){$('.email-subscriber-msg').html('Email is not valid');bCheck=false;}return bCheck;},_subscribe:function(){var self=this;var valid=self._validate_subscriber();if(!valid)return false;var success=function(response){if(response.status=='OK'){$('#status-subscriber').html('<i class="fa fa-check" aria-hidden="true" style="color:#d0075e"></i> Subscribtion is successefully, thank you.');$('.btn-custom').attr('disabled','disabled');}else{$('#status-subscriber').html('<img id="imgstatus" src="'+options.baseUrl+'assets/img/ajax-loader.gif" width="2%"> loading...');if(typeof response.message!='undefined'){if(response.message.length>0){$('#status-subscriber').html('<i class="fa fa-times" aria-hidden="true"></i> Ups, sorry, we will fixed this asap.');$('.btn-custom').removeAttr('disabled');}else{$('#status-subscriber').html('<i class="fa fa-times" aria-hidden="true"></i> Ups, sorry, we will fixed this asap');$('.btn-custom').removeAttr('disabled');}}}}
var error=function(response){$('#status-subscriber').html('<i class="fa fa-times" aria-hidden="true"></i> Ups, sorry, we will fixed this asap');$('.btn-custom').removeAttr('disabled');}
var postdata={email:$('#email-subscriber').val()}
LumiRequest.sendApi({url:options.baseUrl+'readmore/subscribe',postdata:postdata,success:success,error:error})},_clickListener:function(){var self=this;$('#email-subscriber').on('keyup',function(){var ctrl=$(this);if(ctrl.length>0){$('.email-subscriber-group').removeClass('has-error');$('.email-subscriber-msg').html('');}});$('#form-action-subscribe').on('submit',function(e){e.preventDefault();self._subscribe();});},init:function(){var self=this;self._inititalize();self._clickListener();}}
return handler;}}